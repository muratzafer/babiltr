@model babiltr.Models.BLog.BlogDetailViewModel

@{
    ViewData["Title"] = "BlogDetayları";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!doctype html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BabilTR Blog Detayları Sayfası</title>
    <meta name="description" content="Blog Detayları Sayfası" />
</head>

<body>
    <!-- Hero Başlangıç -->
    <section class="bg-half-170 d-table w-100" style="background: url('/thema/jobnova_v1.0.1/html/images/hero/bg.jpg');">
        <div class="bg-overlay bg-gradient-overlay"></div>
        <div class="container">
            <div class="row mt-5 justify-content-center">
                <div class="col-12">
                    <div class="title-heading text-center">
                        <h5 class="heading fw-semibold mb-0 sub-heading text-white title-dark mt-4">@Model.Blog.Title</h5>

                        <ul class="list-inline text-center mb-0">
                            <li class="list-inline-item mx-4 mt-4">
                                <span class="text-white-50 d-block">Yazar</span>
                                <a href="javascript:void(0)" class="text-white title-dark">@Model.Blog.Author</a>
                            </li>

                            <li class="list-inline-item mx-4 mt-4">
                                <span class="text-white-50 d-block">Tarih</span>
                                <span class="text-white title-dark">@Model.Blog.CreatedAt.ToString("dd MMMM yyyy")</span>
                            </li>

                            <li class="list-inline-item mx-4 mt-4">
                                <span class="text-white-50 d-block">Okuma Süresi</span>
                                <span class="text-white title-dark">@Model.Blog.ReadTime dakika </span>
                            </li>
                        </ul>
                    </div>
                </div><!--end col-->
            </div><!--end row-->
        </div><!--end container-->
    </section><!--end section-->
    <div class="position-relative">
        <div class="shape overflow-hidden text-white">
            <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z" fill="currentColor"></path>
            </svg>
        </div>
    </div>
    <!-- Hero Bitiş -->
    <!-- Blog Başlangıç -->
    <section class="section">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-8 col-md-7">
                    <div class="card border-0 shadow rounded overflow-hidden">
                        <div class="img-container" style="width: 760px; height: 440px; border: 2px solid #ccc; overflow: hidden;">
                            <img src="/images/blogpictures/@Model.Blog.ImageName" class="img-fluid" alt="@Model.Blog.Title" style="object-fit: cover; width: 100%; height: 100%;">
                        </div>
                        <div class="card-body">
                            @foreach (var content in Model.Blog.BlogContents)
                            {
                                <h6 class="fw-semibold">@content.Subheading</h6>
                                <p class="text-muted">@content.Paragraph</p>
                            }

                            <div class="mt-3">
                                @if (!string.IsNullOrEmpty(Model.Blog.Tags))
                                {
                                    var tags = Model.Blog.Tags.Split(',');
                                    foreach (var tag in tags)
                                    {
                                        <a href="javascript:void(0)" class="badge badge-link bg-primary ">@tag</a>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div><!--end col-->
                <!-- SIDEBAR BAŞLANGIÇ -->
                <div class="col-lg-4 col-md-6 col-12">
                    <div class="card bg-white p-4 rounded shadow sticky-bar">
                        <!-- SON YAZILAR -->
                        <div class=" pt-2">
                            <h6 class="pt-2 pb-2 bg-light rounded text-center">Son Paylaşımlar</h6>
                            <div class="mt-4">
                                @foreach (var latestBlog in Model.LatestBlogs)
                                {
                                    <div class="blog blog-primary d-flex align-items-center mt-3">
                                        <img src="/images/blogpictures/@latestBlog.ImageName" class="avatar avatar-small rounded" style="width: auto;" alt="@latestBlog.Title">
                                        <div class="flex-1 ms-3">
                                            <a href="/Blog/BlogDetails/@latestBlog.Id" class="d-block title text-dark fw-medium">@latestBlog.Title</a>
                                            <span class="text-muted small">@latestBlog.CreatedAt.ToString("dd MMMM yyyy")</span>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                        <!-- SON YAZILAR -->

                        <div class="mt-4 pt-2 text-center">
                            <h6 class="pt-2 pb-2 bg-light rounded">Tags Cloud</h6>
                            <ul class="tagcloud list-unstyled mt-4">
                                @foreach (var tag in Model.Tags)
                                {
                                    <li class="d-inline-flex m-1">
                                        <a href="javascript:void(0)" class="rounded fw-medium text-dark py-1 px-2">@tag</a>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div><!--end col-->
                <!-- SIDEBAR BİTİŞ -->
            </div><!--end row-->
            @if (User.IsInRole("admin"))
            {
                <div class="rounded shadow p-4 mt-4">
                    <form action="/Blog/BlogDelete/@Model.Blog.Id" onsubmit="return confirm('Bu blogu silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.');">
                        <h5 class="text-danger">Blogu Kaldır/Sil :</h5>
                        <div class="row mt-4">
                            <h6 class="mb-0">Blogu silmek istiyor musunuz? Lütfen aşağıdaki 'BloĞu Kaldır/Sİl' butonuna basın.</h6>
                            <div class="mt-4">
                                <input type="hidden" name="BlogId" value="@Model.Blog.Id">
                                <button type="submit" class="btn btn-danger">Blogu Kaldır/Sil</button>
                            </div>
                        </div>
                    </form>
                </div>
            }
        </div><!--end container-->

    </section><!--end section-->

    <!-- Blog Bitiş -->
    <!-- Üst Kısma Dön -->
    <a href="#" onclick="topFunction()" id="back-to-top" class="back-to-top rounded fs-5"><i data-feather="arrow-up" class="fea icon-sm align-middle"></i></a>
</body>
</html>